<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<title>Admin Management</title>
<link rel="stylesheet" href="/css/local/manage-admins.css">
<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/styles.css">
<link rel="stylesheet" href="/css/all.min.css">
<link rel="stylesheet" href="/css/local/adminDashboard.css">
<script src="/js/bootstrap.bundle.min.js" defer></script>
</head>




<body>

	<div th:insert="fragments/adminLayout :: adminLayout">...</div>


	<div class="admin-container">

		<h2>Manage Admin Accounts</h2>

		<form th:action="@{/admin/manage-users/create}" method="post"
			class="create-admin-form">

			<input class="form-control" name="loginId" placeholder="Login ID"
				required> <input class="form-control" name="password"
				type="password" placeholder="Password" required> <select
				class="form-select" name="role">
				<option value="ROLE_ADMIN">Admin</option>
				<option value="ROLE_SUPER_ADMIN">Super Admin</option>
			</select>

			<button class="btn btn-success" type="submit">Create Admin</button>
		</form>

		<table class="admin-table mt-4">
			<thead>
				<tr>
					<th>Login ID</th>
					<th>Role</th>
					<th>Actions</th>
				</tr>
			</thead>

			<tbody>
				<tr th:each="a : ${admins}">
					<td th:text="${a.loginId}"></td>
					<td th:text="${a.role}"></td>
					<td>
						<div class="action-group">
							<form th:action="@{/admin/manage-users/reset/{id}(id=${a.id})}"
								method="post">
								<input class="form-control" name="password"
									placeholder="New Password" required>
								<button class="btn btn-reset" type="submit">Reset</button>
							</form>

							<form th:action="@{/admin/manage-users/delete/{id}(id=${a.id})}"
								method="post">
								<button class="btn btn-delete" type="submit">Delete</button>
							</form>
						</div>
					</td>
				</tr>
			</tbody>
		</table>

	</div>

</body>
</html>