<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>User Login</title>

    <link rel="icon" type="image/png" sizes="32x32" href="/images/favIcon.png">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" />

    <!-- Font Awesome 7 (LOCAL) -->
    <link rel="stylesheet" href="/css/all.min.css" />

    <!-- Custom styles -->
    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="stylesheet" href="/css/local/loginPage.css">

    <!-- JS -->
    <script src="/js/bootstrap.bundle.min.js" defer></script>
    <script src="/js/local/loginPage.js" defer></script>
</head>

<body>

<div class="login-card">

    <!-- Logo -->
    <img src="/images/logo1.png" alt="Company Logo" class="img-fluid" style="max-width:200px;">
    <p class="text-dark mb-4">Scheduled Bank owned by Government</p>

    <h3>User Login</h3>
    <p class="text-muted mb-4">Secure access to your account</p>

    <!-- Login Form -->
    <form id="loginForm" method="post" action="/login/user">

        <!-- Username -->
        <div class="mb-3 input-group">
            <span class="input-group-text">
                <i class="fa-solid fa-user"></i>
            </span>
            <input type="text"
                   id="username"
                   name="username"
                   class="form-control"
                   placeholder="Enter your username"
                   required />
        </div>

        <!-- Password -->
        <div class="mb-4 input-group">
            <span class="input-group-text">
                <i class="fa-solid fa-lock"></i>
            </span>
            <input type="password"
                   id="password"
                   name="password"
                   class="form-control"
                   placeholder="Enter your password"
                   required />
        </div>

        <!-- CAPTCHA -->
        <div class="mb-3 captcha-row" style="margin-left:17px;">
            <div class="captcha-container">
                <span id="captchaCode"></span>
                <i class="fa-solid fa-rotate captcha-refresh"
                   id="refreshCaptcha"
                   title="Refresh CAPTCHA"></i>
            </div>

            <input type="text"
                   id="captchaInput"
                   class="form-control"
                   placeholder="Enter code"
                   required />
        </div>

        <p class="text-danger mt-1 mb-0" id="captchaError"></p>

        <!-- Submit -->
        <div class="d-flex flex-column flex-sm-row gap-2" style="margin-left:17px;">
            <button type="submit"
                    class="btn btn-custom btn-primary-custom"
                    formaction="/login/user">
                <i class="fa-solid fa-right-to-bracket"></i>
                Click here to Login!
            </button>
        </div>

    </form>

    <p class="text-danger mt-3" id="error-message" th:text="${error}"></p>

</div>

</body>
</html>
